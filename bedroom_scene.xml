<mujoco model="bedroom_scene">
  <compiler angle="degree" coordinate="local" inertiafromgeom="true"/>

  <option timestep="0.005" gravity="0 0 -9.81">
    <flag warmstart="enable"/>
  </option>

  <visual>
    <headlight diffuse="0.6 0.6 0.6" ambient="0.3 0.3 0.3" specular="0 0 0"/>
    <rgba haze="0.15 0.25 0.35 1"/>
    <global offwidth="1920" offheight="1080"/>
    <quality shadowsize="2048"/>
    <map stiffness="700" shadowscale="0.5"/>
  </visual>

  <asset>
    <!-- 材质定义 -->
    <texture name="floor_texture" type="2d" builtin="checker" rgb1="0.7 0.6 0.5" rgb2="0.6 0.5 0.4" width="512" height="512"/>
    <texture name="wall_texture" type="2d" builtin="flat" rgb1="0.9 0.9 0.85" width="512" height="512"/>
    <texture name="wood_texture" type="2d" builtin="checker" rgb1="0.4 0.25 0.15" rgb2="0.35 0.2 0.1" width="512" height="512"/>
    <texture name="bed_texture" type="2d" builtin="flat" rgb1="0.3 0.5 0.7" width="512" height="512"/>
    <texture name="metal_texture" type="2d" builtin="flat" rgb1="0.7 0.7 0.8" width="512" height="512"/>

    <material name="floor_mat" texture="floor_texture" texrepeat="5 5" specular="0.3" shininess="0.1"/>
    <material name="wall_mat" texture="wall_texture" specular="0.1" shininess="0.05"/>
    <material name="wood_mat" texture="wood_texture" texrepeat="2 2" specular="0.2" shininess="0.1"/>
    <material name="bed_mat" texture="bed_texture" specular="0.1" shininess="0.05"/>
    <material name="metal_mat" texture="metal_texture" specular="0.8" shininess="0.5"/>
  </asset>

  <worldbody>
    <!-- 光照 -->
    <light directional="true" diffuse="0.8 0.8 0.8" specular="0.2 0.2 0.2" pos="0 0 4" dir="0 0 -1"/>
    <light directional="true" diffuse="0.4 0.4 0.4" pos="-2 2 3" dir="1 -1 -1"/>

    <!-- 地板 -->
    <geom name="floor" type="plane" size="5 4 0.1" pos="0 0 0" material="floor_mat" condim="3" friction="1 0.005 0.0001"/>

    <!-- 墙壁 -->
    <!-- 后墙 -->
    <geom name="wall_back" type="box" size="5 0.1 2.5" pos="0 -4 2.5" material="wall_mat" rgba="0.9 0.9 0.85 1"/>
    <!-- 左墙 -->
    <geom name="wall_left" type="box" size="0.1 4 2.5" pos="-5 0 2.5" material="wall_mat" rgba="0.9 0.9 0.85 1"/>
    <!-- 右墙 -->
    <geom name="wall_right" type="box" size="0.1 4 2.5" pos="5 0 2.5" material="wall_mat" rgba="0.9 0.9 0.85 1"/>

    <!-- 床 (放在房间左后角) -->
    <body name="bed" pos="-3 -2.5 0">
      <!-- 床垫 -->
      <geom name="mattress" type="box" size="1 1.5 0.3" pos="0 0 0.3" material="bed_mat" rgba="0.3 0.5 0.7 1"/>
      <!-- 床架 -->
      <geom name="bed_frame" type="box" size="1.1 1.6 0.1" pos="0 0 0.1" material="wood_mat" rgba="0.4 0.25 0.15 1"/>
      <!-- 床头板 -->
      <geom name="headboard" type="box" size="1.1 0.1 0.8" pos="0 -1.5 0.8" material="wood_mat" rgba="0.4 0.25 0.15 1"/>
    </body>

    <!-- 书桌 (放在右侧) -->
    <body name="desk" pos="3 -2 0">
      <!-- 桌面 -->
      <geom name="desk_top" type="box" size="0.8 0.5 0.03" pos="0 0 0.75" material="wood_mat" rgba="0.45 0.3 0.2 1"/>
      <!-- 桌腿 -->
      <geom name="desk_leg1" type="cylinder" size="0.04 0.375" pos="0.7 0.4 0.375" material="wood_mat" rgba="0.4 0.25 0.15 1"/>
      <geom name="desk_leg2" type="cylinder" size="0.04 0.375" pos="-0.7 0.4 0.375" material="wood_mat" rgba="0.4 0.25 0.15 1"/>
      <geom name="desk_leg3" type="cylinder" size="0.04 0.375" pos="0.7 -0.4 0.375" material="wood_mat" rgba="0.4 0.25 0.15 1"/>
      <geom name="desk_leg4" type="cylinder" size="0.04 0.375" pos="-0.7 -0.4 0.375" material="wood_mat" rgba="0.4 0.25 0.15 1"/>
    </body>

    <!-- 椅子 (在书桌前) -->
    <body name="chair" pos="3 -0.8 0">
      <!-- 座椅 -->
      <geom name="chair_seat" type="box" size="0.25 0.25 0.03" pos="0 0 0.45" material="wood_mat" rgba="0.35 0.2 0.1 1"/>
      <!-- 椅背 -->
      <geom name="chair_back" type="box" size="0.25 0.03 0.25" pos="0 -0.22 0.7" material="wood_mat" rgba="0.35 0.2 0.1 1"/>
      <!-- 椅腿 -->
      <geom name="chair_leg1" type="cylinder" size="0.025 0.225" pos="0.2 0.2 0.225" material="wood_mat" rgba="0.35 0.2 0.1 1"/>
      <geom name="chair_leg2" type="cylinder" size="0.025 0.225" pos="-0.2 0.2 0.225" material="wood_mat" rgba="0.35 0.2 0.1 1"/>
      <geom name="chair_leg3" type="cylinder" size="0.025 0.225" pos="0.2 -0.2 0.225" material="wood_mat" rgba="0.35 0.2 0.1 1"/>
      <geom name="chair_leg4" type="cylinder" size="0.025 0.225" pos="-0.2 -0.2 0.225" material="wood_mat" rgba="0.35 0.2 0.1 1"/>
    </body>

    <!-- 衣柜 (放在右后角) -->
    <body name="wardrobe" pos="3.5 -3.2 0">
      <!-- 柜体 -->
      <geom name="wardrobe_body" type="box" size="0.6 0.3 1.2" pos="0 0 1.2" material="wood_mat" rgba="0.5 0.35 0.25 1"/>
      <!-- 柜门 (左) -->
      <geom name="wardrobe_door_left" type="box" size="0.29 0.02 1.15" pos="-0.3 0.3 1.2" material="wood_mat" rgba="0.45 0.3 0.2 1"/>
      <!-- 柜门 (右) -->
      <geom name="wardrobe_door_right" type="box" size="0.29 0.02 1.15" pos="0.3 0.3 1.2" material="wood_mat" rgba="0.45 0.3 0.2 1"/>
    </body>

    <!-- 床头柜 (在床旁边) -->
    <body name="nightstand" pos="-1.3 -2.5 0">
      <!-- 柜体 -->
      <geom name="nightstand_top" type="box" size="0.3 0.3 0.03" pos="0 0 0.55" material="wood_mat" rgba="0.45 0.3 0.2 1"/>
      <geom name="nightstand_body" type="box" size="0.28 0.28 0.25" pos="0 0 0.25" material="wood_mat" rgba="0.4 0.25 0.15 1"/>
    </body>

    <!-- 6自由度机械臂 (放置在书桌上) -->
    <body name="robot_base" pos="3 -2 0.78">
      <!-- 基座 -->
      <geom name="base" type="cylinder" size="0.08 0.05" rgba="0.3 0.3 0.3 1" material="metal_mat"/>

      <!-- 关节1: 基座旋转 -->
      <body name="link1" pos="0 0 0.05">
        <joint name="joint1" type="hinge" axis="0 0 1" range="-180 180" damping="1"/>
        <geom name="link1_geom" type="cylinder" size="0.05 0.1" rgba="0.2 0.4 0.8 1" material="metal_mat"/>
        <geom name="link1_connector" type="box" size="0.04 0.04 0.05" pos="0 0 0.15" rgba="0.3 0.3 0.3 1"/>

        <!-- 关节2: 肩关节 -->
        <body name="link2" pos="0 0 0.2" euler="0 90 0">
          <joint name="joint2" type="hinge" axis="0 0 1" range="-90 90" damping="1"/>
          <geom name="link2_geom" type="capsule" size="0.035" fromto="0 0 0 0.25 0 0" rgba="0.8 0.4 0.2 1" material="metal_mat"/>

          <!-- 关节3: 肘关节 -->
          <body name="link3" pos="0.25 0 0">
            <joint name="joint3" type="hinge" axis="0 0 1" range="-150 150" damping="0.8"/>
            <geom name="link3_geom" type="capsule" size="0.03" fromto="0 0 0 0.2 0 0" rgba="0.2 0.8 0.4 1" material="metal_mat"/>

            <!-- 关节4: 腕关节1 -->
            <body name="link4" pos="0.2 0 0">
              <joint name="joint4" type="hinge" axis="1 0 0" range="-180 180" damping="0.5"/>
              <geom name="link4_geom" type="cylinder" size="0.025 0.08" rgba="0.8 0.8 0.2 1" material="metal_mat"/>

              <!-- 关节5: 腕关节2 -->
              <body name="link5" pos="0 0 0.08" euler="0 90 0">
                <joint name="joint5" type="hinge" axis="0 0 1" range="-120 120" damping="0.5"/>
                <geom name="link5_geom" type="cylinder" size="0.02 0.06" rgba="0.8 0.2 0.8 1" material="metal_mat"/>

                <!-- 关节6: 腕关节3 (末端执行器) -->
                <body name="link6" pos="0.06 0 0" euler="0 -90 0">
                  <joint name="joint6" type="hinge" axis="0 0 1" range="-180 180" damping="0.3"/>
                  <geom name="link6_geom" type="cylinder" size="0.015 0.03" rgba="0.5 0.5 0.5 1" material="metal_mat"/>

                  <!-- 简易夹爪 -->
                  <body name="gripper_base" pos="0 0 0.03">
                    <geom name="gripper_palm" type="box" size="0.03 0.02 0.01" rgba="0.3 0.3 0.3 1"/>

                    <!-- 左爪 -->
                    <body name="left_finger" pos="0 0.02 0.02">
                      <joint name="left_finger_joint" type="slide" axis="0 1 0" range="0 0.03" damping="0.1"/>
                      <geom name="left_finger_geom" type="box" size="0.015 0.005 0.03" pos="0 0.005 0" rgba="0.4 0.4 0.4 1"/>
                    </body>

                    <!-- 右爪 -->
                    <body name="right_finger" pos="0 -0.02 0.02">
                      <joint name="right_finger_joint" type="slide" axis="0 -1 0" range="0 0.03" damping="0.1"/>
                      <geom name="right_finger_geom" type="box" size="0.015 0.005 0.03" pos="0 -0.005 0" rgba="0.4 0.4 0.4 1"/>
                    </body>
                  </body>
                </body>
              </body>
            </body>
          </body>
        </body>
      </body>
    </body>

    <!-- 简易移动小车 (可选，放在房间中央) -->
    <body name="mobile_robot" pos="0 1 0.1">
      <!-- 车体 -->
      <freejoint/>
      <geom name="robot_body" type="box" size="0.3 0.2 0.1" pos="0 0 0" rgba="0.6 0.6 0.6 1" mass="5"/>

      <!-- 轮子 -->
      <geom name="wheel_fl" type="cylinder" size="0.05 0.02" pos="0.2 0.15 -0.05" euler="90 0 0" rgba="0.2 0.2 0.2 1"/>
      <geom name="wheel_fr" type="cylinder" size="0.05 0.02" pos="0.2 -0.15 -0.05" euler="90 0 0" rgba="0.2 0.2 0.2 1"/>
      <geom name="wheel_bl" type="cylinder" size="0.05 0.02" pos="-0.2 0.15 -0.05" euler="90 0 0" rgba="0.2 0.2 0.2 1"/>
      <geom name="wheel_br" type="cylinder" size="0.05 0.02" pos="-0.2 -0.15 -0.05" euler="90 0 0" rgba="0.2 0.2 0.2 1"/>

      <!-- 传感器平台 -->
      <geom name="sensor_platform" type="cylinder" size="0.08 0.05" pos="0 0 0.15" rgba="0.3 0.5 0.8 1"/>
    </body>

    <!-- 装饰物品 - 台灯 (放在床头柜上) -->
    <body name="lamp" pos="-1.3 -2.5 0.58">
      <geom name="lamp_base" type="cylinder" size="0.05 0.02" rgba="0.6 0.6 0.6 1"/>
      <geom name="lamp_pole" type="cylinder" size="0.01 0.15" pos="0 0 0.17" rgba="0.5 0.5 0.5 1"/>
      <geom name="lamp_shade" type="cylinder" size="0.08 0.06" pos="0 0 0.38" rgba="0.9 0.9 0.7 0.8"/>
    </body>

    <!-- 装饰物品 - 书本 (放在书桌上) -->
    <body name="books" pos="2.5 -2 0.78">
      <geom name="book1" type="box" size="0.08 0.12 0.02" pos="0 0 0.02" rgba="0.8 0.2 0.2 1"/>
      <geom name="book2" type="box" size="0.08 0.12 0.02" pos="0 0 0.06" rgba="0.2 0.8 0.2 1"/>
      <geom name="book3" type="box" size="0.08 0.12 0.02" pos="0 0 0.10" rgba="0.2 0.2 0.8 1"/>
    </body>

  </worldbody>

  <actuator>
    <!-- 机械臂关节驱动器 -->
    <motor name="motor1" joint="joint1" gear="100" ctrllimited="true" ctrlrange="-2 2"/>
    <motor name="motor2" joint="joint2" gear="100" ctrllimited="true" ctrlrange="-2 2"/>
    <motor name="motor3" joint="joint3" gear="80" ctrllimited="true" ctrlrange="-2 2"/>
    <motor name="motor4" joint="joint4" gear="50" ctrllimited="true" ctrlrange="-1 1"/>
    <motor name="motor5" joint="joint5" gear="50" ctrllimited="true" ctrlrange="-1 1"/>
    <motor name="motor6" joint="joint6" gear="30" ctrllimited="true" ctrlrange="-1 1"/>

    <!-- 夹爪驱动器 -->
    <motor name="gripper_left" joint="left_finger_joint" gear="10" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="gripper_right" joint="right_finger_joint" gear="10" ctrllimited="true" ctrlrange="-0.5 0.5"/>
  </actuator>

</mujoco>
